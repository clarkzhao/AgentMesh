<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="697px" preserveAspectRatio="none" style="width:632px;height:697px;background:#FFFFFF;" version="1.1" viewBox="0 0 632 697" width="632px" zoomAndPan="magnify"><defs/><g><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Client" id="part1-lifeline"><g><title>agentmesh CLI</title><rect fill="#000000" fill-opacity="0.00000" height="592.832" width="8" x="58.2476" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="62" x2="62" y1="52.9766" y2="645.8086"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="MDNS" id="part2-lifeline"><g><title>mDNS</title><rect fill="#000000" fill-opacity="0.00000" height="592.832" width="8" x="204.3955" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="207.8608" x2="207.8608" y1="52.9766" y2="645.8086"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="Plugin" id="part3-lifeline"><g><title>agentmesh-a2a</title><rect fill="#000000" fill-opacity="0.00000" height="592.832" width="8" x="380.6953" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="384.0469" x2="384.0469" y1="52.9766" y2="645.8086"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="OC" id="part4-lifeline"><g><title>OpenClaw</title><rect fill="#000000" fill-opacity="0.00000" height="592.832" width="8" x="574.9648" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="578.751" x2="578.751" y1="52.9766" y2="645.8086"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Client" id="part1-head"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.4951" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.4951" x="12" y="25.5352">agentmesh CLI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.0293" x="34.7329" y="42.0234">(or SDK)</text></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Client" id="part1-tail"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.4951" x="5" y="644.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.4951" x="12" y="665.3438">agentmesh CLI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.0293" x="34.7329" y="681.832">(or SDK)</text></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="MDNS" id="part2-head"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.0693" x="164.8608" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.4395" x="187.6758" y="25.5352">mDNS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.0693" x="171.8608" y="42.0234">(_a2a._tcp)</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="MDNS" id="part2-tail"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87.0693" x="164.8608" y="644.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.4395" x="187.6758" y="665.3438">mDNS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.0693" x="171.8608" y="681.832">(_a2a._tcp)</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="Plugin" id="part3-head"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2969" x="324.0469" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2969" x="331.0469" y="25.5352">agentmesh-a2a</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.9385" x="363.7261" y="42.0234">Plugin</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="Plugin" id="part3-tail"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.2969" x="324.0469" y="644.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.2969" x="331.0469" y="665.3438">agentmesh-a2a</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.9385" x="363.7261" y="681.832">Plugin</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="OC" id="part4-head"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82.4277" x="537.751" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4277" x="544.751" y="25.5352">OpenClaw</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7178" x="550.606" y="42.0234">Gateway</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="OC" id="part4-tail"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82.4277" x="537.751" y="644.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4277" x="544.751" y="665.3438">OpenClaw</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7178" x="550.606" y="681.832">Gateway</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="625.1787" x="0" y="83.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="625.1787" y1="83.6318" y2="83.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="625.1787" y1="86.6318" y2="86.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="44.2847" x="290.447" y="72.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26" x="296.447" y="89.5449">&#21457;&#29616;</text><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="219.3955,138.9082,209.3955,142.9082,219.3955,146.9082,215.3955,142.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="213.3955" x2="383.6953" y1="142.9082" y2="142.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.1875" x="225.3955" y="122.8555">announce(_a2a._tcp)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.312" x="225.3955" y="138.166">TXT: url, name, v=1</text></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg2"><polygon fill="#181818" points="196.3955,168.2188,206.3955,172.2188,196.3955,176.2188,200.3955,172.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="62.2476" x2="202.3955" y1="172.2188" y2="172.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.2231" x="69.2476" y="167.4766">browse(_a2a._tcp)</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg3"><polygon fill="#181818" points="73.2476,212.8398,63.2476,216.8398,73.2476,220.8398,69.2476,216.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="67.2476" x2="207.3955" y1="216.8398" y2="216.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.8496" x="79.2476" y="196.7871">found: OpenClaw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1479" x="79.2476" y="212.0977">@ 127.0.0.1:18789</text></g><g class="message" data-entity-1="part1" data-entity-2="part3" id="msg4"><polygon fill="#181818" points="372.6953,242.1504,382.6953,246.1504,372.6953,250.1504,376.6953,246.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="62.2476" x2="378.6953" y1="246.1504" y2="246.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.6221" x="69.2476" y="241.4082">GET /.well-known/agent-card.json</text></g><g class="message" data-entity-1="part3" data-entity-2="part1" id="msg5"><polygon fill="#181818" points="73.2476,286.7715,63.2476,290.7715,73.2476,294.7715,69.2476,290.7715" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="67.2476" x2="383.6953" y1="290.7715" y2="290.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.9233" x="79.2476" y="270.7188">AgentCard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.1763" x="79.2476" y="286.0293">{name, url, skills, capabilities}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="625.1787" x="0" y="319.4268"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="625.1787" y1="319.4268" y2="319.4268"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="625.1787" y1="322.4268" y2="322.4268"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="76.2896" x="274.4446" y="308.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58.0049" x="280.4446" y="325.3398">A2A &#28040;&#24687;</text><g class="message" data-entity-1="part1" data-entity-2="part3" id="msg6"><polygon fill="#181818" points="372.6953,405.3242,382.6953,409.3242,372.6953,413.3242,376.6953,409.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="62.2476" x2="378.6953" y1="409.3242" y2="409.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.0156" x="69.2476" y="358.6504">POST /a2a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.8794" x="69.2476" y="373.9609">Authorization: Bearer &lt;token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.4531" x="69.2476" y="389.2715">{"method":"message/send",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.9126" x="73.3608" y="404.582">"params":{"message":{...}}}</text></g><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg7"><line style="stroke:#181818;stroke-width:1;" x1="384.6953" x2="426.6953" y1="438.6348" y2="438.6348"/><line style="stroke:#181818;stroke-width:1;" x1="426.6953" x2="426.6953" y1="438.6348" y2="451.6348"/><line style="stroke:#181818;stroke-width:1;" x1="385.6953" x2="426.6953" y1="451.6348" y2="451.6348"/><polygon fill="#181818" points="395.6953,447.6348,385.6953,451.6348,395.6953,455.6348,391.6953,451.6348" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.8696" x="391.6953" y="433.8926">&#39564;&#35777; token</text></g><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg8"><line style="stroke:#181818;stroke-width:1;" x1="384.6953" x2="426.6953" y1="480.9453" y2="480.9453"/><line style="stroke:#181818;stroke-width:1;" x1="426.6953" x2="426.6953" y1="480.9453" y2="493.9453"/><line style="stroke:#181818;stroke-width:1;" x1="385.6953" x2="426.6953" y1="493.9453" y2="493.9453"/><polygon fill="#181818" points="395.6953,489.9453,385.6953,493.9453,395.6953,497.9453,391.6953,493.9453" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8125" x="391.6953" y="476.2031">&#35299;&#26512; agent + session key</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg9"><polygon fill="#181818" points="566.9648,534.5664,576.9648,538.5664,566.9648,542.5664,570.9648,538.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="384.6953" x2="572.9648" y1="538.5664" y2="538.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.2695" x="391.6953" y="518.5137">dispatchReplyFromConfig()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5713" x="391.6953" y="533.8242">&#21019;&#24314;&#20250;&#35805;&#65292;&#36816;&#34892; agent</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg10"><polygon fill="#181818" points="395.6953,563.877,385.6953,567.877,395.6953,571.877,391.6953,567.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="389.6953" x2="577.9648" y1="567.877" y2="567.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.5713" x="401.6953" y="563.1348">agent &#22238;&#22797;&#65288;&#25991;&#26412;&#65289;</text></g><g class="message" data-entity-1="part3" data-entity-2="part1" id="msg11"><polygon fill="#181818" points="73.2476,623.8086,63.2476,627.8086,73.2476,631.8086,69.2476,627.8086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="67.2476" x2="383.6953" y1="627.8086" y2="627.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.8301" x="79.2476" y="592.4453">{"result":{"id":"t1",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.1802" x="83.3608" y="607.7559">"status":{"state":"completed"},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.3345" x="83.3608" y="623.0664">"artifacts":[{"parts":[{"kind":"text","text":"..."}]}]}}</text></g></g></svg>